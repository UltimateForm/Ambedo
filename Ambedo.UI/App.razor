@page "/";

<Blazorise.ThemeProvider Theme="@theme">
	<Layout Sider="true" Loading="thootles==null || thootles.Count==0 || Loading">
		<LayoutSider>
			<LayoutSiderContent Style="z-index:1">
				<Bar Mode="BarMode.VerticalInline"
					 CollapseMode="BarCollapseMode.Small"
					 Breakpoint="Breakpoint.Desktop"
					 NavigationBreakpoint="Breakpoint.Tablet"
					 ThemeContrast="ThemeContrast.Dark">
					<SidebarForm  OnFinishedPost="@OnFinishedPost" OnCreate="@OnCreate"/>
				</Bar>
			</LayoutSiderContent>
		</LayoutSider>
		<LayoutContent Padding="Padding.Is2.OnAll" Class="cardsContainer">
			@foreach (var thootle in thootles)
			{
				<Card ElementId="@thootle.Id" Background="Background.Dark" Margin="Margin.Is1.OnAll">
					<CardBody>
						<CardTitle Color="TextColor.Secondary" Size="5">@thootle.Content</CardTitle>
						<CardText>
							@thootle.Categories.DefaultIfEmpty().Select(c => c.ToString()).Aggregate((current, next) => $"{current} | {next}")
						</CardText>
					</CardBody>
				</Card>

			}
		</LayoutContent>
	</Layout>
</Blazorise.ThemeProvider>